databaseChangeLog:
  - changeSet:
      id: 01-add-cascade-delete-to-comments
      author: olga
      changes:
        # 1. Удаляем старое ограничение
        - dropForeignKeyConstraint:
            baseTableName: comments
            constraintName: fk_comments_posts

        # 2. Добавляем новое с правилом CASCADE
        - addForeignKeyConstraint:
            baseTableName: comments
            baseColumnNames: post_id
            referencedTableName: posts
            referencedColumnNames: id
            constraintName: fk_comments_posts
            onDelete: CASCADE